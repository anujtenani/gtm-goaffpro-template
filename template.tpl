___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Goaffpro Affiliate Marketing",
  "categories": ["AFFILIATE_MARKETING", "MARKETING","LEAD_GENERATION","ATTRIBUTION"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Template to add goaffpro affiliate marketing solution to your website for referral conversion tracking",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "shop",
    "displayName": "Website API Token",
    "simpleValueType": true
  },
  {
    "type": "GROUP",
    "name": "goaffpro_order",
    "displayName": "Conversion Configuration",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "id",
        "displayName": "Order ID or Order Number",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "help": "The unique Order ID or Order number which identifies this transaction",
        "valueValidators": []
      },
      {
        "type": "SELECT",
        "name": "total",
        "displayName": "Order Total",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "help": "The total booking or order value excluding any taxes, shipping and discounts."
      },
      {
        "type": "SELECT",
        "name": "coupon",
        "displayName": "Discount Code (Optional)",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "help": "The code or name of the discount code that was applied during check-out.",
        "notSetText": ""
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Enter your template code here.
const log = require('logToConsole');
const injectScript = require('injectScript');
const callInWindow = require('callInWindow');
const encodeUriComponent = require('encodeUriComponent');

log('data =', data);
const script_url = 'https://api.goaffpro.com/loader.js?shop='+encodeUriComponent(data.shop);
log(script_url);

injectScript(script_url, function(){
  log('script loaded');
if(data.total && data.id){
  if(data.test){
      callInWindow('gfpSetCookie','ref','test');
  }
  callInWindow('goaffproTrackConversion',{
    total: ""+data.total,
    id: ""+data.id
  });
 }
  data.gtmOnSuccess();
}, function(e){
  log('script loading failure');
},data.shop);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.goaffpro.com/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "goaffproTrackConversion"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "gfpSetCookie"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Quick Test
  code: runCode();
setup: ''


___NOTES___

Created on 28/09/2022, 17:33:30


